<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright The WildFly Authors
  ~ SPDX-License-Identifier: Apache-2.0
  -->

<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
    <id>distro</id>
    <formats>
       <format>zip</format>
       <format>tar.gz</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <fileSets>
        <fileSet>
            <directory>target</directory>
            <outputDirectory/>
            <includes>
                <include>${server.output.dir.prefix}-${server.output.dir.version}/**</include>
            </includes>
            <excludes>
                <exclude>${server.output.dir.prefix}-${server.output.dir.version}/welcome-content/**</exclude>
                <exclude>${server.output.dir.prefix}-${server.output.dir.version}/standalone/data/**</exclude>
                <exclude>${server.output.dir.prefix}-${server.output.dir.version}/standalone/log/**</exclude>
                <exclude>${server.output.dir.prefix}-${server.output.dir.version}/standalone/tmp/**</exclude>
                <exclude>
                    ${server.output.dir.prefix}-${server.output.dir.version}/standalone/configuration/standalone_xml_history/**
                </exclude>
                <exclude>${server.output.dir.prefix}-${server.output.dir.version}/domain/data/**</exclude>
                <exclude>${server.output.dir.prefix}-${server.output.dir.version}/domain/log/**</exclude>
                <exclude>${server.output.dir.prefix}-${server.output.dir.version}/domain/servers/**</exclude>
                <exclude>${server.output.dir.prefix}-${server.output.dir.version}/domain/tmp/**</exclude>
                <exclude>
                    ${server.output.dir.prefix}-${server.output.dir.version}/domain/configuration/domain_xml_history/**
                </exclude>
                <exclude>
                    ${server.output.dir.prefix}-${server.output.dir.version}/domain/configuration/host_xml_history/**
                </exclude>
                <exclude>
                    ${server.output.dir.prefix}-${server.output.dir.version}/modules/system/layers/base/org/jboss/as/jacorb/**
                </exclude>
            </excludes>
        </fileSet>
    </fileSets>
</assembly>
